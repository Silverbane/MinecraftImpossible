Scripts:
# 386 writable book 1
# 351:0 ink sac 0
# 351:1 rose red 0
# 351:2 cactus green 0
# 351:3 cocoa bean 0
# 351:4 lapis lazuli 1
# 351:5 purple dye 2 
# 351:6 cyan dye 2
# 351:7 light gray dye 0
# 351:8 gray dye 0
# 351:9 pink dye 0
# 351:10 lime dye 0
# 351:11 dandelion yellow 0 
# 351:12 light blue dye 0
# 351:13 magenta dye 0
# 351:14 orange dye 0
# 351:15 bone meal 0
  Help:
    Script:
    - '@PLAYER Technology Help File Opened.'
    - '@PLAYER UNDER CONSTRUCTION'
    - '@PLAYER &4Technology Help File Closed.&r'
# To place where you will buy technologies type /vtclick @CALL Tech:Buy
# The Buy script will be the only code we need in this section and everything else will be defined in config as variables.
  Setup:
    Script:
# Price Setup For all technologies must be run in HardWorld once for technologies to have a price.
    # Use /vt run Tech:Setup  while in the survival challenge world'
    - '@PLAYER Tech Setup Started'
    - '@SETINT $HardWorld.RPPriceArtofWarI 5'
    - '@SETINT $HardWorld.RPPriceArtofWarII 50'
    - '@SETINT $HardWorld.RPPriceArtofWarIII 100'
    - '@SETINT $HardWorld.RPPriceArtofWarIV 200'
    - '@SETINT $HardWorld.RPPriceArtofWarV 400'
    - '@SETINT $HardWorld.RPPriceTacticsI 15'
    - '@SETINT $HardWorld.RPPriceTacticsII 50'
    - '@SETINT $HardWorld.RPPriceTacticsIII 200'
    - '@SETINT $HardWorld.RPPriceArcheryI 50'
    - '@SETINT $HardWorld.RPPriceArcheryII 200'
    - '@SETINT $HardWorld.RPPriceArcheryIII 400'
    - '@SETINT $HardWorld.RPPriceBallisticsI 50'
    - '@SETINT $HardWorld.RPPriceBallisticsII 100'
    - '@SETINT $HardWorld.RPPriceBallisticsIII 200'
    - '@SETINT $HardWorld.RPPriceBallisticsIV 400'
    - '@SETINT $HardWorld.RPPriceMetallurgyI 100'
    - '@SETINT $HardWorld.RPPriceMetallurgyII 200'
    - '@SETINT $HardWorld.RPPriceHorsebackRidingI 400'
    - '@SETINT $HardWorld.RPPriceHorsebackRidingII 600'
    - '@SETINT $HardWorld.RPPriceHorsebackRidingIII 800'
    - '@SETINT $HardWorld.RPPriceMysticismI 1000'
    - '@SETINT $HardWorld.RPPriceMysticismII 1500'
    - '@SETINT $HardWorld.RPPriceMysticismIII 2000'
    - '@SETINT $HardWorld.RPPriceDomesticationI 5'
    - '@SETINT $HardWorld.RPPriceDomesticationII 50'
    - '@SETINT $HardWorld.RPPriceDomesticationIII 100'
    - '@SETINT $HardWorld.RPPriceDomesticationIV 200'
    - '@SETINT $HardWorld.RPPriceMiningI 25'
    - '@SETINT $HardWorld.RPPriceMiningII 100'
    - '@SETINT $HardWorld.RPPriceMiningIII 500'
    - '@SETINT $HardWorld.RPPriceAgricultureI 5'
    - '@SETINT $HardWorld.RPPriceAgricultureII 50'
    - '@SETINT $HardWorld.RPPriceAgricultureIII 150'
    - '@SETINT $HardWorld.RPPriceAgricultureIV 300'
    - '@SETINT $HardWorld.RPPriceAgricultureV 600'
    - '@SETINT $HardWorld.RPPriceCityPlanningI 50'
    - '@SETINT $HardWorld.RPPriceCityPlanningII 150'
    - '@SETINT $HardWorld.RPPriceCityPlanningIII 300'
    - '@SETINT $HardWorld.RPPriceCityPlanningIV 600'
    - '@PLAYER Tech Setup Completed'
  SelectResearch:
    Script:
      # Setting Up custom variable using variables see below.
    - '@SETSTR $HardWorld.<playername>TechSelectedTMP $<playername>.SMTeam'
    - '@ADDSTR $HardWorld.<playername>TechSelectedTMP $HardWorld.<playername>TechSelected'
      # Check if tech already discovered by team.
    - '@IF b $HardWorld.<var:$HardWorld.<playername>TechSelectedTMP>Discovered != True'
    - ' @IF s $HardWorld.<var:$<playername>.SMTeam>TechResearching != $HardWorld.<playername>TechSelected'
    - '   @CMDCON hd setline $HardWorld.<playername>BuildingID 2 &bTech: <var:$HardWorld.<playername>TechSelected> $HardWorld.<var:$HardWorld.<playername>TechSelectedTMP>RP / $HardWorld.RPPrice<var:$HardWorld.<playername>TechSelected>'    
    - '   @PLAYER Switching $<playername>.SMTeam teams research from $HardWorld.<var:$<playername>.SMTeam>TechResearching to $HardWorld.<playername>TechSelected'
    - '   @SETSTR $HardWorld.<var:$<playername>.SMTeam>TechResearching $HardWorld.<playername>TechSelected'
    - ' @ELSE'
    - '   @PLAYER This technology is already selected for research. Status $HardWorld.<playername>TechSelected researched $HardWorld.<var:$HardWorld.<playername>TechSelectedTMP>RP of $HardWorld.RPPrice<var:$HardWorld.<playername>TechSelected>'    
    - ' @ENDIF'
    - '@ELSE'
    - ' @PLAYER This technology has already been discovered by your team.'
    - '@ENDIF'
  Research:
    Script:
    - '@GETSTRLEN $HardWorld.<playername>TechSelectStrLen $HardWorld.<var:$<playername>.SMTeam>TechResearching'
    - '@IF i $HardWorld.<playername>TechSelectStrLen >= 2'
      # Setting Up custom variable using variables see below.
    - ' @SETSTR $HardWorld.<playername>TechDepositName $HardWorld.<var:$<playername>.SMTeam>TechResearching'
    - ' @SETSTR $HardWorld.<playername>TechDepositNameTMP $<playername>.SMTeam'
    - ' @ADDSTR $HardWorld.<playername>TechDepositNameTMP $HardWorld.<var:$<playername>.SMTeam>TechResearching'
      # Check if tech already discovered by team.
    - ' @IF b $HardWorld.<var:$HardWorld.<playername>TechDepositNameTMP>Discovered != True'
      # Check if has selected item from Technology Menu
    - '   @IF b $HardWorld.<playername>TechMenuExpConvert = True'
    - '     @SETBOOL $HardWorld.<playername>TechPriceCheck True'
    - '   @ELSE'
    - '     @IF b <takeitem:<playername>:$HardWorld.<playername>TechMenuRPItem:1> = True'
    - '         @SETBOOL $HardWorld.<playername>TechPriceCheck True'
    - '     @ENDIF'
    - '   @ENDIF'
    - '   @IF b $HardWorld.<playername>TechPriceCheck = True'
    - '     @SETBOOL $HardWorld.<playername>TechPriceCheck False'
        # Adding points to int variable HardWorld RedArtofWarIRP
    - '     @ADDINT $HardWorld.<var:$HardWorld.<playername>TechDepositNameTMP>RP $HardWorld.<playername>TechMenuRPAmt'
    - '     @IF b $HardWorld.<playername>TechMenuExpConvert = True'
          # Set players exp to 0
    - '       @MODIFYPLAYER <playername> EXP 0'
    - '       @SETBOOL $HardWorld.<playername>TechMenuExpConvert False'
    - '     @ENDIF'
          # Check to see if technology is fully researched and if so give the tech to the team. Else Display Status.
    - '     @IF i $HardWorld.<var:$HardWorld.<playername>TechDepositNameTMP>RP >= $HardWorld.RPPrice<var:$HardWorld.<playername>TechDepositName>'
    - '       @CLOSEINV <playername>'
    - '       @CMDCON hd setline $HardWorld.<playername>BuildingID 2 &bTech: <var:$HardWorld.<playername>TechSelected> $HardWorld.<var:$HardWorld.<playername>TechSelectedTMP>RP / $HardWorld.RPPrice<var:$HardWorld.<playername>TechSelected>'
    - '       @CMDCON title @a[team=<var:$<playername>.SMTeam>] title {text:"<var:$HardWorld.<playername>TechDepositName> Discovered!",color:blue}'
    - '       @PLAYER Technology $HardWorld.<playername>TechDepositName Discovered!'
    - '       @SETBOOL $HardWorld.<var:$HardWorld.<playername>TechDepositNameTMP>Discovered True'
    - '       @CALL Tech:Permissions'
    - '     @ELSE'
            # Displaying current research status
    - '       @CMDCON hd setline $HardWorld.<playername>BuildingID 2 &bTech: <var:$HardWorld.<playername>TechSelected> $HardWorld.<var:$HardWorld.<playername>TechSelectedTMP>RP / $HardWorld.RPPrice<var:$HardWorld.<playername>TechSelected>'
    - '       @PLAYER $HardWorld.<playername>TechDepositName researched $HardWorld.<var:$HardWorld.<playername>TechDepositNameTMP>RP of $HardWorld.RPPrice<var:$HardWorld.<playername>TechDepositName>'
    - '     @ENDIF'
    - '   @ELSE'
    - '     @PLAYER You do not have enough items or experience to complete this order.'
    - '   @ENDIF'
    - ' @ELSE'
    - '   @PLAYER Your team has already discovered $HardWorld.<playername>TechDepositName please select a new technology before purchasing more research points.'
    - ' @ENDIF'
    - '@ELSE'
    - ' @PLAYER Your team needs to select a technology to research first before attempting to purchase research points.'
    - '@ENDIF'
  Permissions:
    Script:
  # BallisticsI 
    - '@IF s $HardWorld.<playername>TechSelected = BallisticsI'
    - ' @CMDCON manselect $Config.WorldName'
    - ' @PAUSE 0.5'
    - ' @CMDCON mangaddp $<playername>.SMTeam catapult.player.autoreload'
    - ' @CMDCON mangaddp $<playername>.SMTeam catapult.player.rename'
    - ' @CMDCON mangaddp $<playername>.SMTeam catapult.player.adjust'
    - ' @CMDCON mangaddp $<playername>.SMTeam catapult.player.ramrod'
    - ' @CMDCON mangaddp $<playername>.SMTeam catapult.player.autoaim'
    - ' @CMDCON mangaddp $<playername>.SMTeam catapult.player.observer'
    - ' @CMDCON mangaddp $<playername>.SMTeam catapult.player.build'
    - ' @CMDCON mangaddp $<playername>.SMTeam catapult.player.load'
    - ' @CMDCON mangaddp $<playername>.SMTeam catapult.player.fire'
    - ' @CMDCON mangaddp $<playername>.SMTeam cannons.projectile.default'
    - ' @CMDCON mangaddp $<playername>.SMTeam cannons.player.adjust'
    - '@ENDIF'
  # ArtofWarI
    - '@IF s $HardWorld.<playername>TechSelected = ArtofWarI'
    - ' @CMDCON manselect $Config.WorldName'
    - ' @PAUSE 0.5'
    - ' @CMDCON mangaddp $<playername>.SMTeam sentry.info'
    - ' @CMDCON mangaddp $<playername>.SMTeam sentry.warning'
    - ' @CMDCON mangaddp $<playername>.SMTeam sentry.greeting'
    - ' @CMDCON mangaddp $<playername>.SMTeam sentry.target'
    - ' @CMDCON mangaddp $<playername>.SMTeam sentry.ignore'
    - ' @CMDCON mangaddp $<playername>.SMTeam sentry.guard'
    - ' @CMDCON mangaddp $<playername>.SMTeam citizens.npc.edit.path'
    - '@ENDIF'
  IEvent:
    Script:
    - '@IF s <inventorytitle> ?= Technology'
    - ' @SWITCH i <clickedslot>'
    - '   @CASE 0'
    - '     @CALL Tech:Help'
    - '   @CASE 9'
    - '     @SETSTR $HardWorld.<playername>TechSelected ArtofWarI'
    - '     @CALL Tech:SelectResearch'
    - '   @CASE 18'
    - '     @IF b $HardWorld.<var:$<playername>.SMTeam>ArtofWarIDiscovered = True'
    - '     @AND b $HardWorld.<var:$<playername>.SMTeam>DomesticationIDiscovered = True'    
    - '       @SETSTR $HardWorld.<playername>TechSelected ArtofWarII'
    - '       @CALL Tech:SelectResearch'
    - '     @ELSE'
    - '       @PLAYER Technology requirements not met. Discover the technologies listed on the requirements before attempting to research.'
    - '     @ENDIF'
    - '   @CASE 27'
    - '     @IF b $HardWorld.<var:$<playername>.SMTeam>ArtofWarIIDiscovered = True'
    - '     @AND b $HardWorld.<var:$<playername>.SMTeam>CityPlanningIDiscovered = True'
    - '     @AND b $HardWorld.<var:$<playername>.SMTeam>MetallurgyIDiscovered = True'        
    - '       @SETSTR $HardWorld.<playername>TechSelected ArtofWarIII'
    - '       @CALL Tech:SelectResearch'
    - '     @ELSE'
    - '       @PLAYER Technology requirements not met. Discover the technologies listed on the requirements before attempting to research.'
    - '     @ENDIF'
    - '   @CASE 36'
    - '     @IF b $HardWorld.<var:$<playername>.SMTeam>ArtofWarIIIDiscovered = True'
    - '     @AND b $HardWorld.<var:$<playername>.SMTeam>CityPlanningIIDiscovered = True'
    - '     @AND b $HardWorld.<var:$<playername>.SMTeam>MetallurgyIIDiscovered = True'        
    - '       @SETSTR $HardWorld.<playername>TechSelected ArtofWarIV'
    - '       @CALL Tech:SelectResearch'
    - '     @ELSE'
    - '       @PLAYER Technology requirements not met. Discover the technologies listed on the requirements before attempting to research.'
    - '     @ENDIF'
    - '   @CASE 45'
    - '     @IF b $HardWorld.<var:$<playername>.SMTeam>ArtofWarIVDiscovered = True'
    - '     @AND b $HardWorld.<var:$<playername>.SMTeam>CityPlanningIIIDiscovered = True'     
    - '       @SETSTR $HardWorld.<playername>TechSelected ArtofWarV'
    - '       @CALL Tech:SelectResearch'
    - '     @ELSE'
    - '       @PLAYER Technology requirements not met. Discover the technologies listed on the requirements before attempting to research.'
    - '     @ENDIF'
    - '   @CASE 1'
    - '     @SETSTR $HardWorld.<playername>TechSelected TacticsI'
    - '     @CALL Tech:SelectResearch'
    - '   @CASE 10'
    - '     @IF b $HardWorld.<var:$<playername>.SMTeam>TacticsIDiscovered = True'
    - '       @SETSTR $HardWorld.<playername>TechSelected TacticsII'
    - '       @CALL Tech:SelectResearch'
    - '     @ELSE'
    - '       @PLAYER Technology requirements not met. Discover the technologies listed on the requirements before attempting to research.'
    - '     @ENDIF'
    - '   @CASE 19'
    - '     @IF b $HardWorld.<var:$<playername>.SMTeam>TacticsIIDiscovered = True'
    - '     @AND b $HardWorld.<var:$<playername>.SMTeam>HorsebackRidingIDiscovered = True'    
    - '       @SETSTR $HardWorld.<playername>TechSelected TacticsIII'
    - '       @CALL Tech:SelectResearch'
    - '     @ELSE'
    - '       @PLAYER Technology requirements not met. Discover the technologies listed on the requirements before attempting to research.'
    - '     @ENDIF'
    - '   @CASE 28'
    - '     @IF b $HardWorld.<var:$<playername>.SMTeam>ArtofWarIDiscovered = True'
    - '     @AND b $HardWorld.<var:$<playername>.SMTeam>DomesticationIDiscovered = True'    
    - '       @SETSTR $HardWorld.<playername>TechSelected ArcheryI'
    - '       @CALL Tech:SelectResearch'
    - '     @ELSE'
    - '       @PLAYER Technology requirements not met. Discover the technologies listed on the requirements before attempting to research.'
    - '     @ENDIF'
    - '   @CASE 37'
    - '     @IF b $HardWorld.<var:$<playername>.SMTeam>ArcheryIDiscovered = True'
    - '     @AND b $HardWorld.<var:$<playername>.SMTeam>DomesticationIIDiscovered = True'    
    - '       @SETSTR $HardWorld.<playername>TechSelected ArcheryII'
    - '       @CALL Tech:SelectResearch'
    - '     @ELSE'
    - '       @PLAYER Technology requirements not met. Discover the technologies listed on the requirements before attempting to research.'
    - '     @ENDIF'
    - '   @CASE 46'
    - '     @IF b $HardWorld.<var:$<playername>.SMTeam>ArcheryIIDiscovered = True'
    - '     @AND b $HardWorld.<var:$<playername>.SMTeam>DomesticationIIIDiscovered = True'    
    - '       @SETSTR $HardWorld.<playername>TechSelected ArcheryIII'
    - '       @CALL Tech:SelectResearch'
    - '     @ELSE'
    - '       @PLAYER Technology requirements not met. Discover the technologies listed on the requirements before attempting to research.'
    - '     @ENDIF'
    - '   @CASE 2'  
    - '     @SETSTR $HardWorld.<playername>TechSelected BallisticsI'
    - '     @CALL Tech:SelectResearch'
    - '   @CASE 11'
    - '     @IF b $HardWorld.<var:$<playername>.SMTeam>BallisticsIDiscovered = True'
    - '       @SETSTR $HardWorld.<playername>TechSelected BallisticsII'
    - '       @CALL Tech:SelectResearch'
    - '     @ELSE'
    - '       @PLAYER Technology requirements not met. Discover the technologies listed on the requirements before attempting to research.'
    - '     @ENDIF'
    - '   @CASE 20'
    - '     @IF b $HardWorld.<var:$<playername>.SMTeam>BallisticsIIDiscovered = True'
    - '     @AND b $HardWorld.<var:$<playername>.SMTeam>MetallurgyIDiscovered = True'    
    - '       @SETSTR $HardWorld.<playername>TechSelected BallisticsIII'
    - '       @CALL Tech:SelectResearch'
    - '     @ELSE'
    - '       @PLAYER Technology requirements not met. Discover the technologies listed on the requirements before attempting to research.'
    - '     @ENDIF'
    - '   @CASE 29'
    - '     @IF b $HardWorld.<var:$<playername>.SMTeam>BallisticsIIIDiscovered = True'
    - '     @AND b $HardWorld.<var:$<playername>.SMTeam>MetallurgyIIDiscovered = True'    
    - '       @SETSTR $HardWorld.<playername>TechSelected BallisticsIV'
    - '       @CALL Tech:SelectResearch'
    - '     @ELSE'
    - '       @PLAYER Technology requirements not met. Discover the technologies listed on the requirements before attempting to research.'
    - '     @ENDIF'
    - '   @CASE 38'
    - '     @IF b $HardWorld.<var:$<playername>.SMTeam>MiningIDiscovered = True'
    - '       @SETSTR $HardWorld.<playername>TechSelected MetallurgyI'
    - '       @CALL Tech:SelectResearch'
    - '     @ELSE'
    - '       @PLAYER Technology requirements not met. Discover the technologies listed on the requirements before attempting to research.'
    - '     @ENDIF'
    - '   @CASE 47'
    - '     @IF b $HardWorld.<var:$<playername>.SMTeam>MetallurgyIDiscovered = True'
    - '     @AND b $HardWorld.<var:$<playername>.SMTeam>MiningIIDiscovered = True'    
    - '       @SETSTR $HardWorld.<playername>TechSelected MetallurgyII'
    - '       @CALL Tech:SelectResearch'
    - '     @ELSE'
    - '       @PLAYER Technology requirements not met. Discover the technologies listed on the requirements before attempting to research.'
    - '     @ENDIF'
    - '   @CASE 3'
    - '     @IF b $HardWorld.<var:$<playername>.SMTeam>AgricultureIIDiscovered = True'
    - '     @AND b $HardWorld.<var:$<playername>.SMTeam>MetallurgyIDiscovered = True'
    - '     @AND b $HardWorld.<var:$<playername>.SMTeam>ArtofWarIIIDiscovered = True'
    - '       @SETSTR $HardWorld.<playername>TechSelected HorsebackRidingI'
    - '       @CALL Tech:SelectResearch'
    - '     @ELSE'
    - '       @PLAYER Technology requirements not met. Discover the technologies listed on the requirements before attempting to research.'
    - '     @ENDIF'
    - '   @CASE 12'
    - '     @IF b $HardWorld.<var:$<playername>.SMTeam>AgricultureIIIDiscovered = True'
    - '     @AND b $HardWorld.<var:$<playername>.SMTeam>ArtofWarIVDiscovered = True'
    - '       @SETSTR $HardWorld.<playername>TechSelected HorsebackRidingII'
    - '       @CALL Tech:SelectResearch'
    - '     @ELSE'
    - '       @PLAYER Technology requirements not met. Discover the technologies listed on the requirements before attempting to research.'
    - '     @ENDIF'
    - '   @CASE 21'
    - '     @IF b $HardWorld.<var:$<playername>.SMTeam>AgricultureIVDiscovered = True'
    - '     @AND b $HardWorld.<var:$<playername>.SMTeam>MetallurgyIIDiscovered = True'
    - '     @AND b $HardWorld.<var:$<playername>.SMTeam>ArtofWarVDiscovered = True'
    - '       @SETSTR $HardWorld.<playername>TechSelected HorsebackRidingIII'
    - '       @CALL Tech:SelectResearch'
    - '     @ELSE'
    - '       @PLAYER Technology requirements not met. Discover the technologies listed on the requirements before attempting to research.'
    - '     @ENDIF'
    - '   @CASE 30'
    - '     @IF b $HardWorld.<var:$<playername>.SMTeam>AgricultureVDiscovered = True'
    - '     @AND b $HardWorld.<var:$<playername>.SMTeam>ArtofWarVDiscovered = True'
    - '       @SETSTR $HardWorld.<playername>TechSelected MysticismI'
    - '       @CALL Tech:SelectResearch'
    - '     @ELSE'
    - '       @PLAYER Technology requirements not met. Discover the technologies listed on the requirements before attempting to research.'
    - '     @ENDIF'
    - '   @CASE 39'
    - '     @IF b $HardWorld.<var:$<playername>.SMTeam>MysticismIDiscovered = True'
    - '       @SETSTR $HardWorld.<playername>TechSelected MysticismII'
    - '       @CALL Tech:SelectResearch'
    - '     @ELSE'
    - '       @PLAYER Technology requirements not met. Discover the technologies listed on the requirements before attempting to research.'
    - '     @ENDIF'
    - '   @CASE 48'
    - '     @IF b $HardWorld.<var:$<playername>.SMTeam>MysticismIIDiscovered = True'
    - '       @SETSTR $HardWorld.<playername>TechSelected MysticismIII'
    - '       @CALL Tech:SelectResearch'
    - '     @ELSE'
    - '       @PLAYER Technology requirements not met. Discover the technologies listed on the requirements before attempting to research.'
    - '     @ENDIF'
    - '   @CASE 4'
    - '     @SETSTR $HardWorld.<playername>TechSelected DomesticationI'
    - '     @CALL Tech:SelectResearch'
    - '   @CASE 13'
    - '     @IF b $HardWorld.<var:$<playername>.SMTeam>DomesticationIDiscovered = True'
    - '       @SETSTR $HardWorld.<playername>TechSelected DomesticationII'
    - '       @CALL Tech:SelectResearch'
    - '     @ELSE'
    - '       @PLAYER Technology requirements not met. Discover the technologies listed on the requirements before attempting to research.'
    - '     @ENDIF'
    - '   @CASE 22'
    - '     @IF b $HardWorld.<var:$<playername>.SMTeam>DomesticationIIDiscovered = True'
    - '       @SETSTR $HardWorld.<playername>TechSelected DomesticationIII'
    - '       @CALL Tech:SelectResearch'
    - '     @ELSE'
    - '       @PLAYER Technology requirements not met. Discover the technologies listed on the requirements before attempting to research.'
    - '     @ENDIF'
    - '   @CASE 31'
    - '     @IF b $HardWorld.<var:$<playername>.SMTeam>DomesticationIIIDiscovered = True'
    - '       @SETSTR $HardWorld.<playername>TechSelected DomesticationIV'
    - '       @CALL Tech:SelectResearch'
    - '     @ELSE'
    - '       @PLAYER Technology requirements not met. Discover the technologies listed on the requirements before attempting to research.'
    - '     @ENDIF'
    - '   @CASE 5'
    - '     @SETSTR $HardWorld.<playername>TechSelected MiningI'
    - '     @CALL Tech:SelectResearch'
    - '   @CASE 14'
    - '     @IF b $HardWorld.<var:$<playername>.SMTeam>MiningIDiscovered = True'
    - '     @AND b $HardWorld.<var:$<playername>.SMTeam>CityPlanningIIDiscovered = True'
    - '       @SETSTR $HardWorld.<playername>TechSelected MiningII'
    - '       @CALL Tech:SelectResearch'
    - '     @ELSE'
    - '       @PLAYER Technology requirements not met. Discover the technologies listed on the requirements before attempting to research.'
    - '     @ENDIF'
    - '   @CASE 23'
    - '     @IF b $HardWorld.<var:$<playername>.SMTeam>MiningIIDiscovered = True'
    - '     @AND b $HardWorld.<var:$<playername>.SMTeam>CityPlanningIVDiscovered = True'
    - '     @AND b $HardWorld.<var:$<playername>.SMTeam>HorsebackRidingIDiscovered = True'
    - '       @SETSTR $HardWorld.<playername>TechSelected MiningIII'
    - '       @CALL Tech:SelectResearch'
    - '     @ELSE'
    - '       @PLAYER Technology requirements not met. Discover the technologies listed on the requirements before attempting to research.'
    - '     @ENDIF'
    - '   @CASE 6'
    - '     @SETSTR $HardWorld.<playername>TechSelected AgricultureI'
    - '     @CALL Tech:SelectResearch'
    - '   @CASE 15'
    - '     @IF b $HardWorld.<var:$<playername>.SMTeam>AgricultureIDiscovered = True'
    - '       @SETSTR $HardWorld.<playername>TechSelected AgricultureII'
    - '       @CALL Tech:SelectResearch'
    - '     @ELSE'
    - '       @PLAYER Technology requirements not met. Discover the technologies listed on the requirements before attempting to research.'
    - '     @ENDIF'
    - '   @CASE 24'
    - '     @IF b $HardWorld.<var:$<playername>.SMTeam>AgricultureIIDiscovered = True'
    - '       @SETSTR $HardWorld.<playername>TechSelected AgricultureIII'
    - '       @CALL Tech:SelectResearch'
    - '     @ELSE'
    - '       @PLAYER Technology requirements not met. Discover the technologies listed on the requirements before attempting to research.'
    - '     @ENDIF'
    - '   @CASE 33'
    - '     @IF b $HardWorld.<var:$<playername>.SMTeam>AgricultureIIIDiscovered = True'
    - '       @SETSTR $HardWorld.<playername>TechSelected AgricultureIV'
    - '       @CALL Tech:SelectResearch'
    - '     @ELSE'
    - '       @PLAYER Technology requirements not met. Discover the technologies listed on the requirements before attempting to research.'
    - '     @ENDIF'
    - '   @CASE 42'
    - '     @IF b $HardWorld.<var:$<playername>.SMTeam>AgricultureIVDiscovered = True'
    - '       @SETSTR $HardWorld.<playername>TechSelected AgricultureV'
    - '       @CALL Tech:SelectResearch'
    - '     @ELSE'
    - '       @PLAYER Technology requirements not met. Discover the technologies listed on the requirements before attempting to research.'
    - '     @ENDIF'
    - '   @CASE 7'
    - '     @IF b $HardWorld.<var:$<playername>.SMTeam>AgricultureIDiscovered = True'
    - '       @SETSTR $HardWorld.<playername>TechSelected CityPlanningI'
    - '       @CALL Tech:SelectResearch'
    - '     @ELSE'
    - '       @PLAYER Technology requirements not met. Discover the technologies listed on the requirements before attempting to research.'
    - '     @ENDIF'
    - '   @CASE 16'
    - '     @IF b $HardWorld.<var:$<playername>.SMTeam>CityPlanningIDiscovered = True'
    - '     @AND b $HardWorld.<var:$<playername>.SMTeam>AgricultureIIDiscovered = True'
    - '       @SETSTR $HardWorld.<playername>TechSelected CityPlanningII'
    - '       @CALL Tech:SelectResearch'
    - '     @ELSE'
    - '       @PLAYER Technology requirements not met. Discover the technologies listed on the requirements before attempting to research.'
    - '     @ENDIF'
    - '   @CASE 25'
    - '     @IF b $HardWorld.<var:$<playername>.SMTeam>CityPlanningIIDiscovered = True'
    - '     @AND b $HardWorld.<var:$<playername>.SMTeam>AgricultureIIIDiscovered = True'
    - '       @SETSTR $HardWorld.<playername>TechSelected CityPlanningIII'
    - '       @CALL Tech:SelectResearch'
    - '     @ELSE'
    - '       @PLAYER Technology requirements not met. Discover the technologies listed on the requirements before attempting to research.'
    - '     @ENDIF'
    - '   @CASE 34'
    - '     @IF b $HardWorld.<var:$<playername>.SMTeam>CityPlanningIIIDiscovered = True'
    - '     @AND b $HardWorld.<var:$<playername>.SMTeam>AgricultureIVDiscovered = True'
    - '       @SETSTR $HardWorld.<playername>TechSelected CityPlanningIV'
    - '       @CALL Tech:SelectResearch'
    - '     @ELSE'
    - '       @PLAYER Technology requirements not met. Discover the technologies listed on the requirements before attempting to research.'
    - '     @ENDIF'
    - '   @CASE 8'
    - '     @SETSTR $HardWorld.<playername>TechMenuRPItem 386'
    - '     @SETINT $HardWorld.<playername>TechMenuRPAmt 1'
    - '     @CALL Tech:Research'
    - '   @CASE 17'
    - '     @SETSTR $HardWorld.<playername>TechMenuRPItem 388'
         # Check if below level 10.
    - '     @IF i <totalexp:<playername>> < 160'
    - '       @PLAYER You need atleast 10 levels to convert experience into RP.'
    - '       @PLAYER Your current experience is <totalexp:<playername>> and 160 is needed.'
    - '     @ELSE'
    - '       @SETINT $HardWorld.<playername>TechMenuRPAmtEXP <totalexp:<playername>>'
    - '       @DIVINT $HardWorld.<playername>TechMenuRPAmtEXP 160'
    - '       @SETINT $HardWorld.<playername>TechMenuRPAmt $HardWorld.<playername>TechMenuRPAmtEXP'
    - '     @ENDIF'
         # Check if level between 20 and 29  per RP
    - '     @IF i <totalexp:<playername>> >= 370'
    - '     @AND i <totalexp:<playername>> <= 824'
    - '       @SETBOOL $HardWorld.<playername>TechMenuExpConvert True'
    - '       @ADDINT $HardWorld.<playername>TechMenuRPAmt 1'
    - '       @PLAYER Converting <totalexp:<playername>> experience into $HardWorld.<playername>TechMenuRPAmt RP.'
    - '       @CALL Tech:Research'
    - '     @ENDIF'
         # Check if level between 30 and 39  per RP
    - '     @IF i <totalexp:<playername>> >= 825'
    - '     @AND i <totalexp:<playername>> <= 1759'
    - '       @SETBOOL $HardWorld.<playername>TechMenuExpConvert True'
    - '       @ADDINT $HardWorld.<playername>TechMenuRPAmt 3'
    - '       @PLAYER Converting <totalexp:<playername>> experience into $HardWorld.<playername>TechMenuRPAmt RP.'
    - '       @CALL Tech:Research'
    - '     @ENDIF'
         # Check if level between 40 and 49  per RP
    - '     @IF i <totalexp:<playername>> >= 1760'
    - '     @AND i <totalexp:<playername>> <= 3394'
    - '       @SETBOOL $HardWorld.<playername>TechMenuExpConvert True'
    - '       @ADDINT $HardWorld.<playername>TechMenuRPAmt 8'
    - '       @PLAYER Converting <totalexp:<playername>> experience into $HardWorld.<playername>TechMenuRPAmt RP.'
    - '       @CALL Tech:Research'
    - '     @ENDIF'
         # Check if level between 50 and 59  per RP
    - '     @IF i <totalexp:<playername>> >= 3395'
    - '     @AND i <totalexp:<playername>> <= 5729'
    - '       @SETBOOL $HardWorld.<playername>TechMenuExpConvert True'
    - '       @ADDINT $HardWorld.<playername>TechMenuRPAmt 20'
    - '       @PLAYER Converting <totalexp:<playername>> experience into $HardWorld.<playername>TechMenuRPAmt RP.'
    - '       @CALL Tech:Research'
    - '     @ENDIF'
         # Check if level between 60 and 69  per RP
    - '     @IF i <totalexp:<playername>> >= 5730'
    - '     @AND i <totalexp:<playername>> <= 8764'
    - '       @SETBOOL $HardWorld.<playername>TechMenuExpConvert True'
    - '       @ADDINT $HardWorld.<playername>TechMenuRPAmt 40'
    - '       @PLAYER Converting <totalexp:<playername>> experience into $HardWorld.<playername>TechMenuRPAmt RP.'
    - '       @CALL Tech:Research'
    - '     @ENDIF'
         # Check if level between 70 and 79  per RP
    - '     @IF i <totalexp:<playername>> >= 8765'
    - '     @AND i <totalexp:<playername>> <= 12499'
    - '       @SETBOOL $HardWorld.<playername>TechMenuExpConvert True'
    - '       @ADDINT $HardWorld.<playername>TechMenuRPAmt 70'
    - '       @PLAYER Converting <totalexp:<playername>> experience into $HardWorld.<playername>TechMenuRPAmt RP.'
    - '       @CALL Tech:Research'
    - '     @ENDIF'
         # Check if level between 80 and 89  per RP
    - '     @IF i <totalexp:<playername>> >= 12500'
    - '     @AND i <totalexp:<playername>> <= 16934'
    - '       @SETBOOL $HardWorld.<playername>TechMenuExpConvert True'
    - '       @ADDINT $HardWorld.<playername>TechMenuRPAmt 110'
    - '       @PLAYER Converting <totalexp:<playername>> experience into $HardWorld.<playername>TechMenuRPAmt RP.'
    - '       @CALL Tech:Research'
    - '     @ENDIF'
         # Check if level between 90 and 99  per RP
    - '     @IF i <totalexp:<playername>> >= 16935'
    - '     @AND i <totalexp:<playername>> <= 22069'
    - '       @SETBOOL $HardWorld.<playername>TechMenuExpConvert True'
    - '       @ADDINT $HardWorld.<playername>TechMenuRPAmt 160'
    - '       @PLAYER Converting <totalexp:<playername>> experience into $HardWorld.<playername>TechMenuRPAmt RP.'
    - '       @CALL Tech:Research'
    - '     @ENDIF'
         # Check if level 100 and up 57 per RP
    - '     @IF i <totalexp:<playername>> >= 22070'
    - '       @SETBOOL $HardWorld.<playername>TechMenuExpConvert True'
    - '       @ADDINT $HardWorld.<playername>TechMenuRPAmt 250'
    - '       @PLAYER Converting <totalexp:<playername>> experience into $HardWorld.<playername>TechMenuRPAmt RP.'
    - '       @CALL Tech:Research'
    - '     @ENDIF'
    - ' @ENDSWITCH'
    - '@ENDIF'